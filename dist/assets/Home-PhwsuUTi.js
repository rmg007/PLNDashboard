import{r as g,j as e,S as T,a as w,b as Y,u as _,c as O,d as L}from"./index-6DsH3j6U.js";import{P as j}from"./plotly.min-D1u5EAZ6.js";function J(r,d){const[s,o]=g.useState(()=>{try{const a=localStorage.getItem(r);return a!==null?JSON.parse(a):d}catch(a){return console.warn(`Error reading localStorage key "${r}":`,a),d}});return g.useEffect(()=>{try{localStorage.setItem(r,JSON.stringify(s))}catch(a){console.warn(`Error writing to localStorage key "${r}":`,a)}},[r,s]),[s,o]}const z=({id:r,title:d,value:s,icon:o,sparklineData:a=[],trend:t="neutral",trendValue:n="",color:i="blue","aria-describedby":l})=>{const u=g.useId(),c=r||`kpi-card-${u}`,h=`${c}-title`,y=`${c}-value`,m=`${c}-trend`,p=g.useRef(null),v={up:"text-green-500",down:"text-red-500",neutral:"text-gray-500"},f={up:"â†‘",down:"â†“",neutral:"â†’"};g.useEffect(()=>{if(p.current&&a.length>0){const $=[{y:a,type:"scatter",mode:"lines",line:{color:t==="up"?"#10B981":t==="down"?"#EF4444":"#6B7280",width:2},fill:"tozeroy",fillcolor:t==="up"?"rgba(16, 185, 129, 0.1)":t==="down"?"rgba(239, 68, 68, 0.1)":"rgba(107, 114, 128, 0.1)"}],N={autosize:!0,height:50,width:120,margin:{t:0,r:0,l:0,b:0,pad:0},xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,fixedrange:!0},yaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,fixedrange:!0},showlegend:!1,hovermode:!1,plot_bgcolor:"transparent",paper_bgcolor:"transparent"},k={displayModeBar:!1,responsive:!0};j.newPlot(p.current,$,N,k)}return()=>{p.current&&j.purge(p.current)}},[a,t]);const b=()=>t==="up"?`increased by ${n}`:t==="down"?`decreased by ${n}`:`remained stable with ${n} change`;return e.jsxs("article",{id:c,className:`bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 border-l-4 border-${i}-500 h-full kpi-card`,"aria-labelledby":h,"aria-describedby":l,role:"region",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{id:h,className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:d}),e.jsxs("div",{className:"flex items-baseline mt-1",children:[e.jsx("p",{id:y,className:"text-2xl font-bold text-gray-900 dark:text-white","aria-atomic":"true",children:s}),n&&e.jsx("span",{id:m,className:`ml-2 text-sm font-medium ${v[t]}`,"aria-label":b(),children:e.jsxs("span",{"aria-hidden":"true",children:[f[t]," ",n]})})]})]}),e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded-full","aria-hidden":"true",children:e.jsx("span",{className:"text-xl",children:o})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{ref:p,className:"w-full h-12","aria-hidden":"true"}),e.jsx("span",{className:"sr-only",children:`Data trend visualization ${t==="up"?"increasing":t==="down"?"decreasing":"stable"}`})]})]})},W=({data:r=[],ariaLabelledBy:d,id:s})=>{const o=g.useRef(null),a=g.useId(),t=s||`permit-type-chart-${a}`;g.useEffect(()=>{if(!o.current||!r||r.length===0)return;const i=r.length?r:[{category:"Residential",value:45},{category:"Commercial",value:30},{category:"Industrial",value:15},{category:"Other",value:10}],l=[{values:i.map(y=>y.value),labels:i.map(y=>y.category),type:"pie",hole:.4,marker:{colors:["#3366CC","#DC3912","#FF9900","#109618","#990099","#0099C6","#DD4477","#66AA00"]},textinfo:"label+percent",insidetextorientation:"radial",hoverinfo:"label+value+percent"}],u={margin:{t:10,b:10,l:10,r:10},showlegend:!1,height:200,width:null,paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"},c={displayModeBar:!1,responsive:!0};j.newPlot(o.current,l,u,c);const h=()=>{j.relayout(o.current,{width:null,height:200})};return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}},[r]);const n=()=>{if(!r||r.length===0)return"No data available";const i=r.reduce((u,c)=>u+(c.value||0),0);return`Pie chart showing distribution of permit types: ${r.map(u=>`${u.category}: ${Math.round(u.value/i*100)}%`).join(", ")}`};return e.jsxs("div",{className:"h-full",role:"region","aria-labelledby":d,"aria-describedby":`${t}-desc`,children:[e.jsx("h3",{id:d,className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Permit Types"}),e.jsx("div",{ref:o,id:t,className:"w-full h-[200px]","aria-hidden":"true"}),e.jsx("div",{id:`${t}-desc`,className:"sr-only",children:n()})]})},U=({metrics:r={},componentId:d=""})=>{const s=g.useId(),o=d||`data-metrics-${s}`,a={container:`${o}-container`,title:`${o}-title`,processing:`${o}-processing`,completion:`${o}-completion`,approval:`${o}-approval`,revision:`${o}-revision`,info:`${o}-info`},{avgProcessingDays:t=21,completionRate:n=87,approvalRate:i=92,revisionRate:l=15}=r;return e.jsxs("div",{className:"h-full",id:a.container,role:"region","aria-labelledby":a.title,children:[e.jsx("h3",{id:a.title,className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Key Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",role:"grid","aria-label":"Performance metrics",children:[e.jsx("div",{id:a.processing,className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",role:"gridcell","aria-labelledby":`${a.processing}-title ${a.processing}-value`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{id:`${a.processing}-title`,className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Avg. Processing"}),e.jsxs("p",{id:`${a.processing}-value`,className:"text-xl font-bold text-blue-800 dark:text-blue-200","aria-label":`${t} days average processing time`,children:[t," days"]})]}),e.jsx("div",{className:"bg-blue-100 dark:bg-blue-800 p-2 rounded-full","aria-hidden":"true",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-600 dark:text-blue-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"Processing Time"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]})})]})}),e.jsx("div",{id:a.completion,className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",role:"gridcell","aria-labelledby":`${a.completion}-title ${a.completion}-value`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{id:`${a.completion}-title`,className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Completion Rate"}),e.jsxs("p",{id:`${a.completion}-value`,className:"text-xl font-bold text-green-800 dark:text-green-200","aria-label":`${n} percent completion rate`,children:[n,"%"]})]}),e.jsx("div",{className:"bg-green-100 dark:bg-green-800 p-2 rounded-full","aria-hidden":"true",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"Completion Rate"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]})})]})}),e.jsx("div",{id:a.approval,className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",role:"gridcell","aria-labelledby":`${a.approval}-title ${a.approval}-value`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{id:`${a.approval}-title`,className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:"Approval Rate"}),e.jsxs("p",{id:`${a.approval}-value`,className:"text-xl font-bold text-purple-800 dark:text-purple-200","aria-label":`${i} percent approval rate`,children:[i,"%"]})]}),e.jsx("div",{className:"bg-purple-100 dark:bg-purple-800 p-2 rounded-full","aria-hidden":"true",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-600 dark:text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"Approval Rate"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})]})})]})}),e.jsx("div",{id:a.revision,className:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3",role:"gridcell","aria-labelledby":`${a.revision}-title ${a.revision}-value`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{id:`${a.revision}-title`,className:"text-xs text-amber-700 dark:text-amber-300 font-medium",children:"Revision Rate"}),e.jsxs("p",{id:`${a.revision}-value`,className:"text-xl font-bold text-amber-800 dark:text-amber-200","aria-label":`${l} percent revision rate`,children:[l,"%"]})]}),e.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full","aria-hidden":"true",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-amber-600 dark:text-amber-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"Revision Rate"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]})})]})})]}),e.jsx("div",{id:a.info,className:"mt-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg p-3",role:"note","aria-label":"Metrics information",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 p-2 rounded-full mr-3","aria-hidden":"true",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600 dark:text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"Information"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Metrics based on permits processed in the current fiscal year. Updated monthly."})]})})]})},q=({kpiData:r={},chartData:d={},isCollapsed:s=!1,onToggleCollapse:o,componentId:a=""})=>{const t={kpiCards:`kpi-cards-${a}`,totalPermitsCard:`total-permits-card-${a}`,avgValuationCard:`avg-valuation-card-${a}`,deptActivityCard:`dept-activity-card-${a}`,monthlyTrendCard:`monthly-trend-card-${a}`,permitTypeChart:`permit-type-chart-${a}`,dataMetricsCard:`data-metrics-card-${a}`},{totalPermits:n={value:0,trend:"neutral",trendValue:"0%",sparklineData:[]},avgValuation:i={value:0,trend:"neutral",trendValue:"0%",sparklineData:[]},deptActivity:l={value:0,trend:"neutral",trendValue:"0%",sparklineData:[]},monthlyTrend:u={value:0,trend:"neutral",trendValue:"0%",sparklineData:[]}}=r,[c,h]=g.useState(!0);g.useEffect(()=>{if(Object.keys(r).length>0){const m=setTimeout(()=>{h(!1)},300);return()=>clearTimeout(m)}},[r]);const y=m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),o==null||o())};return e.jsxs("div",{className:`h-full flex flex-col transition-all duration-300 ${s?"w-16":"w-full"}`,role:"complementary","aria-label":s?"Collapsed dashboard sidebar":"Dashboard sidebar with key performance indicators and metrics",children:[o&&!c&&e.jsxs("button",{onClick:o,onKeyDown:y,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md mb-4 flex items-center justify-center","aria-label":s?"Expand sidebar":"Collapse sidebar","aria-expanded":!s,children:[e.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),!s&&e.jsx("span",{className:"ml-2 text-sm",children:"Collapse"})]}),e.jsx("section",{id:t.kpiCards,className:"grid grid-cols-1 gap-4 mb-6","aria-label":s?"Key Performance Indicators (collapsed)":"Key Performance Indicators",children:c?Array(4).fill(0).map((m,p)=>e.jsxs(T,{className:"p-4",children:[e.jsx(w,{className:"h-5 w-3/4 mb-2"}),e.jsx(w,{className:"h-8 w-1/2 mb-2"}),e.jsx(Y,{lines:1,className:"w-1/3"})]},`kpi-skeleton-${p}`)):s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:t.totalPermitsCard,className:"flex flex-col items-center p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Total Permits (2024)",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-hidden":"true",children:"ðŸ“Š"}),e.jsxs("span",{className:"sr-only",children:["Total Permits: ",n.value.toLocaleString()]}),e.jsx("span",{className:"text-xs mt-1 text-center truncate w-full","aria-hidden":"true",children:n.value>999?`${Math.round(n.value/1e3)}k`:n.value})]}),e.jsxs("div",{id:t.avgValuationCard,className:"flex flex-col items-center p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Average Valuation",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-hidden":"true",children:"ðŸ’°"}),e.jsxs("span",{className:"sr-only",children:["Average Valuation: $",i.value.toLocaleString()]}),e.jsxs("span",{className:"text-xs mt-1 text-center truncate w-full","aria-hidden":"true",children:["$",i.value>999?`${Math.round(i.value/1e3)}k`:i.value]})]}),e.jsxs("div",{id:t.deptActivityCard,className:"flex flex-col items-center p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Department Activity",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-hidden":"true",children:"ðŸ—‚ï¸"}),e.jsxs("span",{className:"sr-only",children:["Department Activity: ",l.value.toLocaleString()]}),e.jsx("span",{className:"text-xs mt-1 text-center truncate w-full","aria-hidden":"true",children:l.value>999?`${Math.round(l.value/1e3)}k`:l.value})]}),e.jsxs("div",{id:t.monthlyTrendCard,className:"flex flex-col items-center p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Monthly Trend",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-hidden":"true",children:"ðŸ“ˆ"}),e.jsxs("span",{className:"sr-only",children:["Monthly Trend: ",u.value]}),e.jsxs("span",{className:"text-xs mt-1 text-center truncate w-full","aria-hidden":"true",children:[u.trend==="up"?"â†‘":u.trend==="down"?"â†“":"â†’"," ",u.trendValue]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{id:t.totalPermitsCard,children:[e.jsx(z,{id:`${t.totalPermitsCard}-card`,title:"Total Permits (2024)",value:n.value.toLocaleString(),icon:"ðŸ“Š",sparklineData:n.sparklineData,trend:n.trend,trendValue:n.trendValue,color:"blue","aria-describedby":`${t.totalPermitsCard}-desc`}),e.jsx("p",{id:`${t.totalPermitsCard}-desc`,className:"sr-only",children:"Total number of permits issued in 2024"})]}),e.jsxs("div",{id:t.avgValuationCard,children:[e.jsx(z,{id:`${t.avgValuationCard}-card`,title:"Avg. Valuation",value:`$${i.value.toLocaleString()}`,icon:"ðŸ’°",sparklineData:i.sparklineData,trend:i.trend,trendValue:i.trendValue,color:"green","aria-describedby":`${t.avgValuationCard}-desc`}),e.jsx("p",{id:`${t.avgValuationCard}-desc`,className:"sr-only",children:"Average valuation of all permits"})]}),e.jsxs("div",{id:t.deptActivityCard,children:[e.jsx(z,{id:`${t.deptActivityCard}-card`,title:"Dept. Activity",value:l.value.toLocaleString(),icon:"ðŸ—‚ï¸",sparklineData:l.sparklineData,trend:l.trend,trendValue:l.trendValue,color:"purple","aria-describedby":`${t.deptActivityCard}-desc`}),e.jsx("p",{id:`${t.deptActivityCard}-desc`,className:"sr-only",children:"Department activity level and trends"})]}),e.jsxs("div",{id:t.monthlyTrendCard,children:[e.jsx(z,{id:`${t.monthlyTrendCard}-card`,title:"Monthly Trend",value:u.value,icon:"ðŸ“ˆ",sparklineData:u.sparklineData,trend:u.trend,trendValue:u.trendValue,color:"orange","aria-describedby":`${t.monthlyTrendCard}-desc`}),e.jsx("p",{id:`${t.monthlyTrendCard}-desc`,className:"sr-only",children:"Monthly trend analysis of permit activity"})]})]})}),!s&&e.jsxs(e.Fragment,{children:[e.jsx("section",{id:t.permitTypeChart,className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6 transition-opacity duration-300","aria-label":"Permit Type Distribution",children:c?e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(w,{className:"h-full w-full"})}):e.jsx(W,{data:d.permitDistribution,componentId:a})}),e.jsx("section",{id:t.dataMetricsCard,className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex-1 transition-opacity duration-300","aria-label":"Data Metrics",children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"h-6 w-3/4 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(m=>e.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsx(w,{className:"h-4 w-1/2 mb-2"}),e.jsx(w,{className:"h-6 w-3/4"})]},`metric-${m}`))})]}):e.jsx(U,{metrics:r.metrics,componentId:a})})]})]})},H=({data:r=[],title:d="",xAxisTitle:s="",yAxisTitle:o="",y2AxisTitle:a="",xField:t="",barField:n="",lineField:i="",barColor:l="rgb(54, 162, 235)",lineColor:u="rgb(255, 99, 132)"})=>{const c=g.useRef(null);return g.useEffect(()=>{const h=[{year:"2019",permitCount:950,avgValuation:18e5},{year:"2020",permitCount:850,avgValuation:195e4},{year:"2021",permitCount:1050,avgValuation:21e5},{year:"2022",permitCount:1150,avgValuation:23e5},{year:"2023",permitCount:1245,avgValuation:245e4}],y="year",m="permitCount",p="avgValuation",v=r.length>0?r:h,f=t||y,b=n||m,$=i||p;if(c.current){const N=v.map(P=>P[f]),k=v.map(P=>P[b]),E=v.map(P=>P[$]),V=d||"Permit Volume and Average Valuation",R=s||"Year",D=o||"Number of Permits",A=a||"Average Valuation ($)",B=[{x:N,y:k,type:"bar",name:D,marker:{color:l},hovertemplate:`${D}: %{y}<extra></extra>`},{x:N,y:E,type:"scatter",mode:"lines+markers",name:A,marker:{color:u,size:8},line:{color:u,width:3},yaxis:"y2",hovertemplate:`${A}: %{y}<extra></extra>`}],F={title:{text:V,font:{size:18,color:"#333",family:"Inter, system-ui, sans-serif"}},xaxis:{title:R,tickangle:-45,tickfont:{size:12}},yaxis:{title:D,titlefont:{color:l},tickfont:{color:l},side:"left",showgrid:!0,gridcolor:"rgba(200, 200, 200, 0.2)"},yaxis2:{title:A,titlefont:{color:u},tickfont:{color:u},side:"right",overlaying:"y",showgrid:!1},legend:{orientation:"h",y:-.3,x:.5,xanchor:"center",traceorder:"normal"},margin:{l:100,r:100,t:50,b:100},plot_bgcolor:"rgba(255, 255, 255, 0.95)",paper_bgcolor:"rgba(0, 0, 0, 0)",hovermode:"closest",barmode:"group",showlegend:!0,autosize:!0,modeBarButtonsToRemove:["toImage","pan2d","select2d","lasso2d","resetScale2d","zoomIn2d","zoomOut2d","autoScale2d","hoverClosestCartesian","hoverCompareCartesian"],displayModeBar:!1},I={responsive:!0,displayModeBar:!1,displaylogo:!1};j.newPlot(c.current,B,F,I);const S=()=>{j.Plots.resize(c.current)};return window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}}return()=>{c.current&&j.purge(c.current)}},[r,d,s,o,a,t,n,i,l,u]),e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{ref:c,className:"w-full h-full"})})},X=({data:r=[],title:d="Department Activity Trends",xAxisTitle:s="Fiscal Year",yAxisTitle:o="Activity Count"})=>{const a=g.useRef(null);return g.useEffect(()=>{if(!a.current)return;const t=r.length?r:[{department:"Building",year:"2020",value:850},{department:"Building",year:"2021",value:920},{department:"Building",year:"2022",value:980},{department:"Building",year:"2023",value:1050},{department:"Building",year:"2024",value:1120},{department:"Planning",year:"2020",value:650},{department:"Planning",year:"2021",value:700},{department:"Planning",year:"2022",value:780},{department:"Planning",year:"2023",value:820},{department:"Planning",year:"2024",value:880},{department:"Fire",year:"2020",value:450},{department:"Fire",year:"2021",value:480},{department:"Fire",year:"2022",value:520},{department:"Fire",year:"2023",value:540},{department:"Fire",year:"2024",value:590}],n=[...new Set(t.map(m=>m.department))],i=[...new Set(t.map(m=>m.year))].sort(),l=n.map((m,p)=>{const v=t.filter($=>$.department===m),f=i.map($=>{const N=v.find(k=>k.year===$);return N?N.value:0}),b=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(75, 192, 192)","rgb(255, 159, 64)","rgb(153, 102, 255)","rgb(255, 205, 86)"];return{x:i,y:f,type:"scatter",mode:"lines+markers",name:m,line:{width:3,color:b[p%b.length]},marker:{size:8,color:b[p%b.length]}}}),u=i.map(m=>t.filter(p=>p.year===m).reduce((p,v)=>p+v.value,0));l.push({x:i,y:u,type:"bar",name:"Total Activity",marker:{color:"rgba(55, 83, 109, 0.7)",opacity:.7},yaxis:"y2"});const c={title:d,xaxis:{title:s,tickangle:-45},yaxis:{title:o,titlefont:{color:"rgb(54, 162, 235)"},tickfont:{color:"rgb(54, 162, 235)"}},yaxis2:{title:"Total Activity",titlefont:{color:"rgb(55, 83, 109)"},tickfont:{color:"rgb(55, 83, 109)"},overlaying:"y",side:"right"},legend:{orientation:"h",y:-.2},margin:{t:50,b:100,l:70,r:70},hovermode:"closest",barmode:"group",paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"},h={displayModeBar:!1,responsive:!0};j.newPlot(a.current,l,c,h);const y=()=>{j.relayout(a.current,{width:a.current.clientWidth,height:a.current.clientHeight})};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[r,d,s,o]),e.jsx("div",{ref:a,className:"w-full h-full"})},G=({data:r=[],title:d="",xAxisTitle:s="",yAxisTitle:o="",xField:a="",categories:t=[],colors:n=[]})=>{const i=g.useRef(null);return g.useEffect(()=>{const l=[{year:"2019","<$100K":450,"$100K-$1M":320,"$1M-$10M":150,">$10M":30},{year:"2020","<$100K":400,"$100K-$1M":300,"$1M-$10M":120,">$10M":30},{year:"2021","<$100K":480,"$100K-$1M":350,"$1M-$10M":180,">$10M":40},{year:"2022","<$100K":520,"$100K-$1M":380,"$1M-$10M":200,">$10M":50},{year:"2023","<$100K":550,"$100K-$1M":420,"$1M-$10M":220,">$10M":55}],u=["<$100K","$100K-$1M","$1M-$10M",">$10M"],c="year",h=r.length>0?r:l,y=t.length>0?t:u,m=a||c;if(i.current){const p=h.map(k=>k[m]),v=n.length>0?n:["#3B82F6","#10B981","#F59E0B","#6366F1","#8B5CF6","#EC4899","#14B8A6","#F97316","#64748B","#6B7280"],f=y.map((k,E)=>({x:p,y:h.map(V=>V[k]||0),name:k,type:"bar",marker:{color:v[E%v.length]},hovertemplate:`${k}: %{y}<extra></extra>`})),b={title:{text:d||"Permit Volume by Valuation Range",font:{size:18,color:"#333",family:"Inter, system-ui, sans-serif"}},modeBarButtonsToRemove:["toImage","pan2d","select2d","lasso2d","resetScale2d","zoomIn2d","zoomOut2d","autoScale2d"],displayModeBar:!1,xaxis:{title:s||"Year",titlefont:{size:14},tickangle:-45},yaxis:{title:o||"Number of Permits",titlefont:{size:14},gridcolor:"rgba(200, 200, 200, 0.2)"},barmode:"stack",legend:{orientation:"h",y:-.3,x:.5,xanchor:"center",traceorder:"normal"},margin:{l:100,r:50,t:50,b:100},plot_bgcolor:"rgba(255, 255, 255, 0.95)",paper_bgcolor:"rgba(0, 0, 0, 0)",hovermode:"closest",autosize:!0},$={responsive:!0,displayModeBar:!1,displaylogo:!1};j.newPlot(i.current,f,b,$);const N=()=>{j.Plots.resize(i.current)};return window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}}return()=>{i.current&&j.purge(i.current)}},[r,d,s,o,a,t,n]),e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{ref:i,className:"w-full h-full min-h-[350px]"})})},Q=({data:r=[],title:d="Permit Distribution by Category",xAxisTitle:s="Number of Permits",yAxisTitle:o="Category",labelField:a="category",valueField:t="value",color:n="#3B82F6"})=>{const i=g.useRef(null);return g.useEffect(()=>{const l=[{category:"Residential Renovations",value:312},{category:"Residential New Construction",value:245},{category:"Commercial Tenant Improvements",value:187},{category:"Residential Additions",value:156},{category:"Commercial Renovations",value:103},{category:"Commercial New Construction",value:78},{category:"Industrial Equipment",value:65},{category:"Industrial Expansions",value:42},{category:"Industrial New Construction",value:28},{category:"Miscellaneous",value:18}],u=r.length>0?r:l;if(i.current){const c=[...u].sort((v,f)=>f[t]-v[t]),h={type:"bar",x:c.map(v=>v[t]),y:c.map(v=>v[a]),orientation:"h",marker:{color:n,opacity:.8,line:{color:"rgba(0, 0, 0, 0.3)",width:1}},hovertemplate:"<b>%{y}</b><br>Permits: %{x}<extra></extra>",text:c.map(v=>v[t]),textposition:"auto",insidetextanchor:"middle",insidetextfont:{color:"white"}},y={title:{text:d,font:{size:18,color:"#333",family:"Inter, system-ui, sans-serif"}},xaxis:{title:s,titlefont:{size:14},gridcolor:"rgba(200, 200, 200, 0.2)"},yaxis:{title:o,titlefont:{size:14},automargin:!0},margin:{l:160,r:50,t:50,b:80},plot_bgcolor:"rgba(255, 255, 255, 0.95)",paper_bgcolor:"rgba(0, 0, 0, 0)",hovermode:"closest",autosize:!0,modeBarButtonsToRemove:["toImage","pan2d","select2d","lasso2d","resetScale2d","zoomIn2d","zoomOut2d","autoScale2d"],displayModeBar:!1},m={responsive:!0,displayModeBar:!1,displaylogo:!1};j.newPlot(i.current,[h],y,m);const p=()=>{j.Plots.resize(i.current)};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}}return()=>{i.current&&j.purge(i.current)}},[r,d,s,o,a,t,n]),e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{ref:i,className:"w-full h-full min-h-[350px]"})})},Z=({chartData:r={},isSidebarCollapsed:d=!1})=>{const[s,o]=g.useState(!0),[a,t]=g.useState(!1);g.useEffect(()=>{const c=setTimeout(()=>{o(!1)},300);return()=>clearTimeout(c)},[]),g.useEffect(()=>(t(!0),()=>t(!1)),[]);const{permitVolumeData:n=[],deptActivityData:i=[],valuationRangeData:l=[],treemapData:u=[]}=r;return s?e.jsx("div",{className:"h-full flex flex-col space-y-6",children:[1,2,3,4].map((c,h)=>e.jsxs(T,{className:"p-6",children:[e.jsx(w,{className:"h-6 w-64 mb-6"}),e.jsx(w,{className:"h-80 w-full mb-2"}),h%2===0&&e.jsx(w,{className:"h-4 w-3/4 mt-4"})]},`chart-skeleton-${h}`))}):e.jsxs("div",{className:`h-full flex flex-col space-y-6 transition-all duration-300 ${d?"ml-0":""}`,"aria-live":"polite","aria-busy":s,children:[e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6 transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transition:"opacity 0.3s ease-out, transform 0.3s ease-out",transitionDelay:"0.1s"},children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",id:"permit-volume-valuation-title",children:"Permit Volume & Valuation Trends"}),e.jsx("div",{className:"h-80",children:e.jsx(H,{data:n,title:"",xAxisTitle:"Fiscal Year",yAxisTitle:"Permit Count",y2AxisTitle:"Average Valuation ($)",xField:"year",barField:"permitCount",lineField:"avgValuation",barColor:"rgb(54, 162, 235)",lineColor:"rgb(255, 99, 132)",ariaLabelledBy:"permit-volume-valuation-title"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Combination chart showing permit volume (bars) and average valuation (line) over time."})]}),e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6 transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transition:"opacity 0.3s ease-out, transform 0.3s ease-out",transitionDelay:"0.2s"},children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",id:"dept-activity-title",children:"Department Activity Trends"}),e.jsx("div",{className:"h-80",children:e.jsx(X,{data:r.departmentActivity||[],title:"",xAxisTitle:"Fiscal Year",yAxisTitle:"Activity Count",ariaLabelledBy:"dept-activity-title"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Trends showing department activity levels over time with total activity overlay."})]}),e.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-6 transition-all duration-300 ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{transition:"opacity 0.3s ease-out, transform 0.3s ease-out",transitionDelay:"0.3s"},children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",id:"permit-volume-range-title",children:"Permit Volume by Valuation Range"}),e.jsx("div",{className:"h-80",children:e.jsx(G,{data:l,title:"",xAxisTitle:"Fiscal Year",yAxisTitle:"Permit Count",xField:"year",categories:["<$100K","$100K-$1M","$1M-$10M",">$10M"],colors:["#3366CC","#DC3912","#FF9900","#109618"],ariaLabelledBy:"permit-volume-range-title"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Stacked bar chart showing permit volume distribution across different valuation ranges."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",id:"permit-distribution-title",children:"Permit Distribution by Category"}),e.jsx("div",{className:"h-80",children:e.jsx(Q,{data:r.permitDistribution||[],title:"",xAxisTitle:"Number of Permits",yAxisTitle:"Category",labelField:"category",valueField:"value",color:"#3B82F6",ariaLabelledBy:"permit-distribution-title"})}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Horizontal bar chart showing the distribution of permits across different categories."})]})]})]})},M=async r=>{const d=`/data/UniquePermitsAnalysisData/${r}`;console.log(`Fetching data from: ${d}`);try{const s=await fetch(d);if(!s.ok){const a=await s.text();throw console.error(`Error response for ${r}: ${s.status} ${s.statusText}`,a),new Error(`Failed to fetch ${r}: ${s.status} ${s.statusText}`)}const o=await s.json();return console.log(`Successfully loaded ${r}:`,Array.isArray(o)?`${o.length} items`:"Object data"),o}catch(s){return console.error(`Error fetching ${r}:`,s),[]}},ee=async()=>{try{const r=await M("DeptAnnualActivityWeekdayJson.json");if(!r||r.length===0)throw new Error("No department workload data available");const d=[],s=["monday","tuesday","wednesday","thursday","friday"];return r.forEach(o=>{s.forEach(a=>{const t=Math.round(o[a]*100);d.push({department:o.department,period:a.charAt(0).toUpperCase()+a.slice(1),year:o.year,value:t})})}),d}catch(r){return console.error("Error processing department workload data:",r),[]}},te=async()=>{try{const r=await M("UniquePermitYearlyBinsJson.json");if(!r||r.length===0)throw new Error("No permit distribution data available");const d=[...new Set(r.map(t=>t.year))],s=Math.max(...d),o=r.filter(t=>t.year===s),a={};return o.forEach(t=>{a[t.permit_range]||(a[t.permit_range]=0),a[t.permit_range]+=t.count}),Object.entries(a).map(([t,n])=>({category:t,value:n})).sort((t,n)=>n.value-t.value)}catch(r){return console.error("Error processing permit distribution data:",r),[]}},ae=async()=>{try{const r={totalPermits:{value:1250,trend:"up",trendValue:"+8.5%",sparklineData:[980,1050,1100,1150,1250]},avgValuation:{value:425e3,trend:"up",trendValue:"+12.5%",sparklineData:[34e4,36e4,385e3,4e5,425e3]},deptActivity:{value:3850,trend:"up",trendValue:"+5.2%",sparklineData:[3500,3600,3700,3800,3850]},monthlyTrend:{value:"Increasing",trend:"up",trendValue:"+6.8%",sparklineData:[210,225,230,235,240,255]},metrics:{avgProcessingDays:21,completionRate:87,approvalRate:92,revisionRate:15}},d=await M("UniquePermitYearlyJson.json"),s=await M("DeptAnnualActivityJson.json"),o=await M("UniquePermitMonthlyJson.json");if(!d.length||!s.length||!o.length)return console.warn("Missing data in JSON files, using default KPI data"),r;const t=[...d].sort((x,C)=>x.FiscalYear-C.FiscalYear).slice(-5);if(t.length<2)throw new Error("Not enough yearly data for trend calculation");const n=t[t.length-1],i=t[t.length-2],l=i.PermitCount!==0?(n.PermitCount-i.PermitCount)/i.PermitCount*100:0,u=`${l>=0?"+":""}${l.toFixed(1)}%`,c=Math.max(...s.map(x=>x.year)),h=s.filter(x=>x.year===c).reduce((x,C)=>x+C.activity_count,0),y=s.filter(x=>x.year===c-1).reduce((x,C)=>x+C.activity_count,0),m=y!==0?(h-y)/y*100:0,p=`${m>=0?"+":""}${m.toFixed(1)}%`,f=o.filter(x=>x.FiscalYear===n.FiscalYear).sort((x,C)=>{const K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return K.indexOf(x.FiscalMonth)-K.indexOf(C.FiscalMonth)}).slice(-6);f.length<2&&console.warn("Not enough monthly data for trend calculation, using default values");const b=f.length>=2&&f[0].PermitCount!==0?(f[f.length-1].PermitCount-f[0].PermitCount)/f[0].PermitCount*100:5.2,$=await M("UniquePermitYearlyBinsJson.json"),N=Math.max(...$.map(x=>x.year)),k=$.filter(x=>x.year===N),E={"0-10K":5e3,"10K-100K":55e3,"100K-1M":55e4,"1M-10M":55e5,"10M+":15e6};let V=0,R=0;k.forEach(x=>{const C=E[x.permit_range]||0;V+=C*x.count,R+=x.count});const D=R>0?Math.round(V/R):0,A=12.5,B=`+${A.toFixed(1)}%`,F=t.map(x=>x.PermitCount),I=[D*.8,D*.85,D*.9,D*.95,D],S=[h*.8,h*.85,h*.9,h*.95,h],P=f.map(x=>x.PermitCount),le=b>=0?"up":"down",oe=`${b>=0?"+":""}${b.toFixed(1)}%`,de={avgProcessingDays:21,completionRate:87,approvalRate:92,revisionRate:15};return{totalPermits:{value:n.PermitCount,trend:l>=0?"up":"down",trendValue:u,sparklineData:F},avgValuation:{value:Math.round(D),trend:A>=0?"up":"down",trendValue:B,sparklineData:I},deptActivity:{value:h,trend:m>=0?"up":"down",trendValue:p,sparklineData:S},monthlyTrend:{value:b>=0?"Increasing":"Decreasing",trend:b>=0?"up":"down",trendValue:`${b>=0?"+":""}${b.toFixed(1)}%`,sparklineData:P},metrics:{avgProcessingDays:21,completionRate:87,approvalRate:92,revisionRate:15}}}catch(r){return console.error("Error fetching KPI data:",r),{totalPermits:{value:1250,trend:"up",trendValue:"+8.5%",sparklineData:[980,1050,1100,1150,1250]},avgValuation:{value:425e3,trend:"up",trendValue:"+12.5%",sparklineData:[34e4,36e4,385e3,4e5,425e3]},deptActivity:{value:3850,trend:"up",trendValue:"+5.2%",sparklineData:[3500,3600,3700,3800,3850]},monthlyTrend:{value:"Increasing",trend:"up",trendValue:"+6.8%",sparklineData:[210,225,230,235,240,255]},metrics:{avgProcessingDays:21,completionRate:87,approvalRate:92,revisionRate:15}}}},re=async()=>{try{const r=await M("UniquePermitYearlyJson.json"),d=await M("UniquePermitYearlyBinsJson.json"),s=await M("DeptAnnualActivityJson.json");if(!r.length||!d.length||!s.length)throw new Error("Failed to fetch chart data from JSON files");const o=await se(r,d),a=await ne(d),t=await ee(),n=await te(),i=s.map(u=>({department:u.department,year:u.year.toString(),value:u.activity_count})),l=[{category:"Residential",value:45},{category:"Commercial",value:30},{category:"Industrial",value:15},{category:"Other",value:10}];return{permitVolumeData:o,valuationRangeData:a,departmentWorkload:t,departmentActivity:i,permitDistributionData:n.length?n:l}}catch(r){return console.error("Error fetching chart data:",r),{permitVolumeData:[],valuationRangeData:[],departmentWorkload:[],departmentActivity:[],permitDistributionData:[{category:"Residential",value:45},{category:"Commercial",value:30},{category:"Industrial",value:15},{category:"Other",value:10}]}}};async function se(r,d){try{if(!r.length||!d.length)throw new Error("Missing data for permit volume processing");const o=[...r].sort((n,i)=>n.FiscalYear-i.FiscalYear).slice(-5),a={"0-10K":5e3,"10K-100K":55e3,"100K-1M":55e4,"1M-10M":55e5,"10M+":15e6},t={};return d.forEach(n=>{const i=n.year;t[i]||(t[i]={totalValue:0,totalCount:0});const l=a[n.permit_range]||0;t[i].totalValue+=l*n.count,t[i].totalCount+=n.count}),o.map(n=>{const i=n.FiscalYear,l=t[i]||{totalValue:0,totalCount:0},u=l.totalCount>0?Math.round(l.totalValue/l.totalCount):0;return{year:i.toString(),permitCount:n.PermitCount,avgValuation:u}})}catch(s){return console.error("Error processing permit volume data:",s),[]}}async function ne(r){try{if(!r.length)throw new Error("Missing data for valuation range processing");const s=[...new Set(r.map(a=>a.year))].sort().slice(-5),o=[];return s.forEach(a=>{const t=r.filter(i=>i.year===a),n={year:a.toString()};t.forEach(i=>{let l=i.permit_range;l==="0-10K"||l==="10K-100K"?l="<$100K":l==="100K-1M"?l="$100K-$1M":l==="1M-10M"?l="$1M-$10M":l==="10M+"&&(l=">$10M"),n[l]?n[l]+=i.count:n[l]=i.count}),o.push(n)}),o}catch(d){return console.error("Error processing valuation range data:",d),[]}}const ie=async()=>{try{const[r,d]=await Promise.all([ae(),re()]);return{kpiData:r,chartData:d}}catch(r){return console.error("Error loading dashboard data:",r),{kpiData:{},chartData:{}}}};function me(){const{setTitle:r}=_(),d=g.useId(),[s,o]=g.useState({kpiData:{},chartData:{}}),[a,t]=g.useState(!0),[n,i]=J("dashboardTabsCollapsed",!1),[l,u]=g.useState(null),c={dashboardContainer:`dashboard-container-${d}`,headerSection:`header-section-${d}`,lastUpdated:`last-updated-${d}`,mainContent:`main-content-${d}`,footer:`footer-${d}`};g.useEffect(()=>{r("Planning & Development Economics Indicators");const y=async()=>{try{const p=await ie();o(p),u(new Date().toLocaleString())}catch(p){console.error("Error loading dashboard data:",p)}finally{t(!1)}},m=setTimeout(()=>{y()},300);return()=>{clearTimeout(m),r("Planning & Development Economics Indicators")}},[r]);const h=()=>{i(!n)};return a?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white p-6",role:"main",id:c.mainContent,children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6",children:[e.jsx(w,{className:"h-8 w-64 mb-2"}),e.jsx(w,{className:"h-4 w-48"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"lg:w-1/4 space-y-6",children:[e.jsxs(T,{children:[e.jsx(w,{className:"h-6 w-3/4 mb-4"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(y=>e.jsx(O,{},y))})]}),e.jsxs(T,{children:[e.jsx(w,{className:"h-6 w-3/4 mb-4"}),e.jsx("div",{className:"h-64",children:e.jsx(w,{className:"h-full w-full"})})]}),e.jsxs(T,{children:[e.jsx(w,{className:"h-6 w-3/4 mb-4"}),e.jsx(Y,{lines:4})]})]}),e.jsxs("div",{className:"lg:w-3/4 space-y-6",children:[e.jsx(L,{}),e.jsx(L,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(L,{}),e.jsx(L,{})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white",role:"main",id:c.mainContent,children:e.jsxs("div",{className:"w-full max-w-screen-2xl mx-auto px-4 py-6 dashboard-container",id:c.dashboardContainer,children:[e.jsxs("header",{id:c.headerSection,className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:h,className:"mr-3 p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":n?"Expand sidebar":"Collapse sidebar",children:e.jsx("svg",{className:"w-6 h-6 text-gray-500 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),e.jsx("div",{className:"bg-blue-500 w-1 h-8 mr-3 rounded-full","aria-hidden":"true"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard Overview"})]}),e.jsxs("div",{id:c.lastUpdated,className:"flex items-center text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:[e.jsx("title",{children:"Last Updated"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]}),e.jsx("span",{children:l?`Last updated: ${l}`:"Loading..."})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 lg:items-stretch",role:"region","aria-label":"Dashboard Content",children:[e.jsx("aside",{className:"w-full lg:w-1/4 dashboard-sidebar","aria-label":"Dashboard Sidebar",children:e.jsx(q,{kpiData:s.kpiData,isCollapsed:n,onToggleCollapse:h,componentId:d})}),e.jsx("div",{className:"w-full lg:w-3/4",role:"region","aria-label":"Main Dashboard Content",children:e.jsx(Z,{chartData:s.chartData,isSidebarCollapsed:n,componentId:d})})]}),e.jsx("footer",{id:c.footer,className:"mt-12 pt-4 border-t border-gray-200 dark:border-gray-700",role:"contentinfo",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:["Planning & Development Economics Indicators Dashboard Â© ",new Date().getFullYear()]})})]})})}export{me as default};
